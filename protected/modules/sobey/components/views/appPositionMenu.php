<div class="left" id="left">    <div class="sousuo">        <input type="text" class="fl" id="app_search_text"/>        <a href="javascript:void(0);"><img id="app_search_img" src="<?php echo Yii::app()->request->baseUrl; ?>/images/view.gif" /></a>    </div>    <div class="weblist font18"><a href="javascript:void(0);">应用列表</a> </div>    <ul class="cj_nav" id="t_nav">    </ul></div><script type="text/javascript">    var appGroups = <?php echo json_encode($appGroups); ?>;    var hasGroupApps = <?php echo json_encode($hasGroupApps); ?>;    var noneGroupApps = <?php echo json_encode($noneGroupApps); ?>;    $(document).ready(function() {                $('#app_search_text').keyup(function(){            search_app();        });                init_app_menu();    });        function init_app_menu(){        create_app_menu(appGroups, hasGroupApps, noneGroupApps, true);    }        function search_app(){        var search_text = $.trim($('#app_search_text').val());        if(search_text == ''){            create_app_menu(appGroups, hasGroupApps, noneGroupApps, true);            $('#app_search_img').attr('onclick', '');            $('#app_search_img').attr('src', '<?php echo Yii::app()->request->baseUrl; ?>/images/view.gif');        }else{            var group_keys = ereg_group(search_text, appGroups);            var group_app_keys = ereg_group_app(search_text, hasGroupApps);            var other_app_keys = ereg_app(search_text, noneGroupApps);                        var new_groups = new Array();            var new_group_apps = new Array();            var new_other_apps = new Array();            var new_group_apps_parent = new Array();            for(i in group_app_keys){                for(j in group_app_keys[i]){                    if(!new_group_apps[i])                        new_group_apps[i] = new Array();                    new_group_apps[i].push(hasGroupApps[i][j]);                }                new_group_apps_parent.push(i);            }                        for(i in appGroups){                if($.inArray(i, group_keys) >= 0 || $.inArray(appGroups[i].id, new_group_apps_parent) >= 0)                    new_groups.push(appGroups[i]);            }                        for(i in other_app_keys){                new_other_apps.push(noneGroupApps[other_app_keys[i]]);            }                        create_app_menu(new_groups, new_group_apps, new_other_apps);            $('#app_search_img').attr('src', '<?php echo Yii::app()->request->baseUrl; ?>/images/view_clean.gif');            $('#app_search_img').attr('onclick', '$("#app_search_text").val("");search_app();');        }    }        function ereg_group(str, arr) {        var id_array = new Array();        for(var i in arr) {            if(arr[i].name.lastIndexOf(str) >= 0) {                id_array.push(i)            }        }        return id_array;    }        function ereg_group_app(str, arr) {        var id_array = new Array();        for(var i in arr) {            for(j in arr[i]){                if(arr[i][j].name.lastIndexOf(str) >= 0) {                    if(!id_array[i])                        id_array[i] = new Array();                    id_array[i][j] = j;                }            }        }        return id_array;    }        function ereg_app(str, arr) {        var id_array = new Array();        for(var i in arr) {            if(arr[i].name.lastIndexOf(str) >= 0) {                id_array.push(i);            }        }        return id_array;    }    function create_app_menu(group, gourp_app, other_app, is_init){        var html  = '';        if(is_init){            html += '<li class="now">';            html += '    <div class="navtit">';            html += '         <b></b><span><a href="<?php echo Yii::app()->createUrl($route); ?>">所有应用</a></span>';            html += '    </div>';            html += '</li>';            html += '<li>';            html += '    <div class="navtit">';            html += '        <b></b><span><a href="<?php echo Yii::app()->createUrl($route, array('appId' => 0)); ?>">未设置应用</a></span>';            html += '    </div>';            html += '</li>';        }        for(i in group){            html += '<li>';            html += '    <div class="navtit">';            html += '        <b class="more"></b><span><a href="' + group[i].url +'">' + group[i].name +'</a></span>';            html += '    </div>';            html += '    <ul>';            if(gourp_app[group[i].id] && gourp_app[group[i].id].length > 0){                for(j in gourp_app[group[i].id]){                    html += '<li>';                    html += '    <div class="navtit">';                    html += '        <b></b><span><a href="' + gourp_app[group[i].id][j].url + '">' + gourp_app[group[i].id][j].name + '</a></span>';                    html += '    </div>';                    html += '</li>';                }            }            html += '    </ul>';            html += '</li>';        }                for(i in other_app){            html += '<li>';            html += '<div class="navtit">';            html += '	<b></b><span><a href="' + other_app[i].url + '">' + other_app[i].name + '</a></span>';            html += '</div>';            html += '</li>';                    }        $('#t_nav').html(html);        _s_tab("t_nav","li","t_caidname","onclick",0,"innerHTML"); //为第一层赋值;                $("#t_nav").find("a").click(function(e){            ajax_load("ggw_box", $(this).attr("href"));            e.preventDefault();        });    }</script>  